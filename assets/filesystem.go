// Code generated by shogo82148/assets-life v1.0.0. DO NOT EDIT.

//go:generate go run assets-life.go "../views" . assets

package assets

import (
	"io"
	"net/http"
	"os"
	"path"
	"sort"
	"strings"
	"time"
)

// Root is the root of the file system.
var Root http.FileSystem = fileSystem{
	file{
		name:    "/",
		content: "",
		mode:    0755 | os.ModeDir,
		next:    0,
		child:   1,
	},
	file{
		name:    "/index.html",
		content: "<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Dota2 Cog</title>\n</head>\n<body>\n  <div id=\"content\"></div>\n  <script src=\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\"></script>\n  <script>\n    fetch(\"/index.md\", {method: \"GET\"})\n      .then(response => response.text())\n      .then(markdown => {\n        console.log(markdown);\n        document.getElementById(\"content\").innerHTML = marked(markdown)\n      });\n  </script>\n</body>\n</html>",
		mode:    0644,
		next:    2,
		child:   -1,
	},
	file{
		name:    "/index.md",
		content: "Dota2 Cog\n=========\n\nDiscordの役職に自動でDota2のランク(メダル)を割り当てるbotです\n\n1時間に1回、自動でOpenDotaから情報を取ってきて役職を割り当てます\n\n* * *\n\n### 使い方\n\n#### サーバーアドミン\n\n[ここ](/add-bot)からサーバーにbotを追加してください\n\n追加されたロールは色や名前の変更など自由に編集可能です(多分…)\n\n#### サーバーメンバー\n\nDota2 Cog BotにDMで `/dota2-cog register` コマンドを送って\n\n表示されたリンクをクリックし、Steamとの連携を有効にしてください\n\n* * *\n\n### コマンドリスト\n\n##### /dota2-cog register\n\nSteamとDiscordのIDを連携させます (DMのみ)\n\n一度実行すれば、他のサーバーでこのbotを導入したとしても再使用は不要です\n\n##### /dota2-cog force-fetch\n\n現在のサーバーの全ユーザーのランクを取得します (乱用禁止!) (サーバーコマンドのみ) (管理者のみ)\n\n##### /dota2-cog fix-rank-roles\n\nランクロールの修正をします 間違えてロールを削除してしまったときなどに使ってください (サーバーコマンドのみ) (管理者のみ)\n\n##### /dota2-cog fix-registerd-role\n\n登録済みロールの修正をします 間違えてロールを削除してしまったときなどに使ってください (サーバーコマンドのみ) (管理者のみ)\n\n* * *\n\n### バージョン履歴\n\n*   #### 0.2.1 2020-06-21\n\n    サーバーオーナー(冠が付いてるやつ)でも管理者コマンドが使えるようになった\n\n    `register`をやっぱりDMのみにした(セキュリティ上の問題で)\n\n    このページをMarkdownで書くようにした\n\n*   #### 0.2.0 2020-06-21\n    \n    登録済みユーザーを割り当てる `Dota2 Cog Registerd` ロールを作った\n    \n    `/dota2-cog fix-roles` コマンドを `/dota2-cog fix-rank-roles` に変更\n    \n*   #### 0.1.4 2020-06-15\n    \n    force-fetchしたときにプログレスバーを表示するようにした\n    \n    fetch中にforce-fetchした場合エラーを返すようにした\n    \n    fix-roles コマンドを追加した\n    \n*   #### 0.1.3 2020-06-14\n    \n    ロールの再割り当てのアルゴリズムの最適化\n    \n*   #### 0.1.2 2020-06-13\n    \n    ちょっとだけ修正\n    \n*   #### 0.1.1 2020-06-12\n    \n    BotアカウントのFetchをスキップするようにした\n    \n*   #### 0.1.0 2020-06-10\n    \n    初期バージョン\n\n* * *\n\n### 寄付のお願い\n\nDota2 Cog Bot は無料で使えますが、もしあなたがこのbotの維持に協力してくれるなら寄付をお願いします\n\nこのサービスの運営には毎月のサーバー代などが掛かっています\n\n#### 月額支援\n\n[![Donate using Liberapay](https://liberapay.com/assets/widgets/donate.svg)](https://liberapay.com/aoisensi/donate)\n\n#### 1回限りの寄付\n\n<style>.bmc-button img{height: 34px !important;width: 35px !important;margin-bottom: 1px !important;box-shadow: none !important;border: none !important;vertical-align: middle !important;}.bmc-button{padding: 7px 15px 7px 10px !important;line-height: 35px !important;height:51px !important;text-decoration: none !important;display:inline-flex !important;color:#ffffff !important;background-color:#5F7FFF !important;border-radius: 5px !important;border: 1px solid transparent !important;padding: 7px 15px 7px 10px !important;font-size: 28px !important;letter-spacing:0.6px !important;box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important;-webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;margin: 0 auto !important;font-family:'Cookie', cursive !important;-webkit-box-sizing: border-box !important;box-sizing: border-box !important;}.bmc-button:hover, .bmc-button:active, .bmc-button:focus {-webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;text-decoration: none !important;box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;opacity: 0.85 !important;color:#ffffff !important;}</style><link href=\"https://fonts.googleapis.com/css?family=Cookie\" rel=\"stylesheet\"><a class=\"bmc-button\" target=\"_blank\" href=\"https://www.buymeacoffee.com/aoisensi\"><img src=\"https://cdn.buymeacoffee.com/buttons/bmc-new-btn-logo.svg\" alt=\"Buy me a soda\"><span style=\"margin-left:5px;font-size:28px !important;\">Buy me a soda</span></a>\n\n* * *\n\n### その他\n\n本当はDiscordのプロフィールからSteamIDを取得したかったがAPIがサポートしてないのでログインさせるという形になった…\n\n1000人以上いるサーバーでは最初の1000人しかデータを取れない 後々何とかする\n\nサーバーにいる人全員に連携を促すDMを送るコマンド作りたいがスパム扱いされそう…\n\nソースコード:[https://github.com/aoisensi/dota2-cog](https://github.com/aoisensi/dota2-cog)\n\nなにか問題点などあれば**aoisensi#0634**または[https://steamcommunity.com/id/aoisensi](https://steamcommunity.com/id/aoisensi)までどうぞ\n\nI will write this page with English.\n",
		mode:    0644,
		next:    -1,
		child:   -1,
	},
}

type fileSystem []file

func (fs fileSystem) Open(name string) (http.File, error) {
	name = path.Clean("/" + name)
	i := sort.Search(len(fs), func(i int) bool { return fs[i].name >= name })
	if i >= len(fs) || fs[i].name != name {
		return nil, &os.PathError{
			Op:   "open",
			Path: name,
			Err:  os.ErrNotExist,
		}
	}
	f := &fs[i]
	return &httpFile{
		Reader: strings.NewReader(f.content),
		file:   f,
		fs:     fs,
		idx:    i,
		dirIdx: f.child,
	}, nil
}

type file struct {
	name    string
	content string
	mode    os.FileMode
	child   int
	next    int
}

var _ os.FileInfo = (*file)(nil)

func (f *file) Name() string {
	return path.Base(f.name)
}

func (f *file) Size() int64 {
	return int64(len(f.content))
}

func (f *file) Mode() os.FileMode {
	return f.mode
}

var zeroTime time.Time

func (f *file) ModTime() time.Time {
	return zeroTime
}

func (f *file) IsDir() bool {
	return f.Mode().IsDir()
}

func (f *file) Sys() interface{} {
	return nil
}

type httpFile struct {
	*strings.Reader
	file   *file
	fs     fileSystem
	idx    int
	dirIdx int
}

var _ http.File = (*httpFile)(nil)

func (f *httpFile) Stat() (os.FileInfo, error) {
	return f.file, nil
}

func (f *httpFile) Readdir(count int) ([]os.FileInfo, error) {
	ret := []os.FileInfo{}
	if !f.file.IsDir() {
		return ret, nil
	}

	if count <= 0 {
		for f.dirIdx >= 0 {
			entry := &f.fs[f.dirIdx]
			ret = append(ret, entry)
			f.dirIdx = entry.next
		}
		return ret, nil
	}

	ret = make([]os.FileInfo, 0, count)
	for f.dirIdx >= 0 {
		entry := &f.fs[f.dirIdx]
		ret = append(ret, entry)
		f.dirIdx = entry.next
		if len(ret) == count {
			return ret, nil
		}
	}
	return ret, io.EOF
}

func (f *httpFile) Close() error {
	return nil
}
